<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="catalogo.css">
    <title>Catalogo</title>
</head>
<body>
        <header class="header">
        <a href="#" class="logo"><img src="blink.jpeg" width="200px"></a>
        <nav class="nav-menu">
            <a href="#pedidos">Pedidos</a>
            <a href="#locacao">Locação de Máquinas</a>
            <a href="#contato">Contato</a>
        </nav>
    </header>
    <div id="catalogo">

    </div>
    <script>
                async function carregarCatalogo() {
            const response = await fetch('./produtos.json');
            const dados = await response.json();
            const containerPrincipal = document.getElementById('catalogo');

            // Itera sobre cada chave do JSON (as sessões)
            for (const sessao in dados) {
                // 1. Cria o título da sessão
                const titulo = document.createElement('h2');
                titulo.innerText = sessao.replace(/-/g, ' '); // Tira o hífen do nome
                containerPrincipal.appendChild(titulo);

                // 2. Cria o grid da sessão
                const grid = document.createElement('div');
                grid.className = 'grid-produtos';

                // 3. Cria os cards de produtos
                dados[sessao].forEach(produto => {
                    grid.innerHTML += `
                        <div class="card-produto">
                            <img src="${produto.img}" alt="${produto.nome}">
                            <h3>${produto.nome}</h3>
                            <p><strong>${produto.preco}</strong></p>
                            <button id='wb-btn' onclick="enviarWhatsApp('${produto.nome}')">Pedir no WhatsApp</button>
                        </div>
                    `;
                });

                containerPrincipal.appendChild(grid);
            }
        }

        function enviarWhatsApp(nomeProduto) {
            const telefone = "5511999999999"; // Seu número com DDD
            const mensagem = (`Olá, tenho interesse no produto: ${nomeProduto}`);
            window.open(`https://wa.me/${telefone}?text=${mensagem}`, '_blank');
        }

        carregarCatalogo();
    </script>
</body>
</html>